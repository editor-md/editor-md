!function(){function o(m){var v,k=m.codeLanguages={asp:["ASP","vbscript"],actionscript:["ActionScript(3.0)/Flash/Flex","clike"],bash:["Bash/Bat","shell"],css:["CSS","css"],c:["C","clike"],cpp:["C++","clike"],csharp:["C#","clike"],coffeescript:["CoffeeScript","coffeescript"],d:["D","d"],dart:["Dart","dart"],delphi:["Delphi/Pascal","pascal"],erlang:["Erlang","erlang"],go:["Golang","go"],groovy:["Groovy","groovy"],html:["HTML","text/html"],java:["Java","clike"],json:["JSON","text/json"],javascript:["Javascript","javascript"],lua:["Lua","lua"],less:["LESS","css"],markdown:["Markdown","gfm"],"objective-c":["Objective-C","clike"],php:["PHP","php"],perl:["Perl","perl"],python:["Python","python"],r:["R","r"],rst:["reStructedText","rst"],ruby:["Ruby","ruby"],sql:["SQL","sql"],sass:["SASS/SCSS","sass"],shell:["Shell","shell"],scala:["Scala","clike"],swift:["Swift","clike"],vb:["VB/VBScript","vb"],xml:["XML","text/xml"],yaml:["YAML","yaml"]};m.fn.codeBlockDialog=function(){var e,t,o=this.cm,i=this.lang,a=this.editor,l=this.settings,n=o.getCursor(),r=o.getSelection(),c=this.classPrefix,s=c+"code-block-dialog",d=i.dialog.codeBlock;o.focus(),0<a.find("."+s).length?((t=a.find("."+s)).find("option:first").attr("selected","selected"),t.find("textarea").val(r),this.dialogShowMask(t),this.dialogLockScreen(),t.show()):(e='<div class="'+c+'code-toolbar">'+d.selectLabel+'<select><option selected="selected" value="">'+d.selectDefaultText+'</option></select></div><textarea placeholder="coding now...." style="display:none;">'+r+"</textarea>",t=this.createDialog({name:s,title:d.title,width:780,height:565,mask:l.dialogShowMask,drag:l.dialogDraggable,content:e,lockScreen:l.dialogLockScreen,maskStyle:{opacity:l.dialogMaskOpacity,backgroundColor:l.dialogMaskBgColor},buttons:{enter:[i.buttons.enter,function(){var e=this.find("textarea").val(),t=this.find("select").val();return""===t?alert(i.dialog.codeBlock.unselectedLanguageAlert):""===e?alert(i.dialog.codeBlock.codeEmptyAlert):(t="other"===t?"":t,o.replaceSelection(["```"+t,e,"```"].join("\n")),""===t&&o.setCursor(n.line,n.ch+3),this.hide().lockScreen(!1).hideMask()),!1}],cancel:[i.buttons.cancel,function(){return this.hide().lockScreen(!1).hideMask(),!1}]}}));var h=t.find("select");if(1===h.find("option").length){for(var f in k){var p=k[f];h.append('<option value="'+f+'" mode="'+p[1]+'">'+p[0]+"</option>")}h.append('<option value="other">'+d.otherLanguage+"</option>")}var g=h.find("option:selected").attr("mode"),u={mode:g||"text/html",theme:l.theme,tabSize:4,autofocus:!0,autoCloseTags:!0,indentUnit:4,lineNumbers:!0,lineWrapping:!0,extraKeys:{"Ctrl-Q":function(e){e.foldCode(e.getCursor())}},foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],matchBrackets:!0,indentWithTabs:!0,styleActiveLine:!0,styleSelectedText:!0,autoCloseBrackets:!0,showTrailingSpace:!0,highlightSelectionMatches:!0},S=t.find("textarea");t.find(".CodeMirror");t.find(".CodeMirror").length<1?(v=m.$CodeMirror.fromTextArea(S[0],u),t.find(".CodeMirror").css({float:"none",margin:"8px 0",border:"1px solid #ddd",fontSize:l.fontSize,width:"100%",height:"390px"}),v.on("change",function(e){S.val(e.getValue())})):v.setValue(o.getSelection()),h.change(function(){var e=$(this).find("option:selected").attr("mode");v.setOption("mode",e)})}}"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?module.exports=o:"function"==typeof define?define.amd?define(["editormd"],function(e){o(e)}):define(function(e){var t=e("./../../editormd");o(t)}):o(window.editormd)}();